<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="img/favicon.png">
    <meta name="viewport" content="width=device-width,initial-scale=0.35, maximum-scale=0.35,minimum-scale=0.35">
    <title>Go風呂設定</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">  </head>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" rel="stylesheet" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <body>
    <div class="container-fluid mt-5 pt-5">
      <div class="row justify-content-md-center">
        <div class="col col-lg-8">
          <div class="d-grid gap-8">
            <button class="btn btn-primary" type="button" id="ui-gofuro-btn" onclick="uiClickSearchBleDevice(this)">
              <i class="fa-brands fa-bluetooth"></i>
            </button>
          </div>
        </div>
      </div>      
      
    </div>
    <hr/>
    <div class="container-fluid">
      <div class="row justify-content-md-center" id="vue-ui-ble-pairing">
        <div class="col-8">
          <div class="input-group mb-3">
            <span class="input-group-text">安全に通信ための公開鍵:</span>
            <input type="text" class="form-control" readonly :value="pubKey" v-model="pubKey">
            <input type="text" class="form-control" placeholder="名前" v-model="name">
            <button class="btn btn-success" type="button" @click="allowDevicePermission(pubKey,name)">
              本デバイスを新たに許可する
            </button>
          </div>
          <hr/>
          <div class="input-group mb-3" v-for="allow in allows">
            <span class="input-group-text">すでに許可した公開鍵:</span>
            <input type="text" class="form-control" readonly :value="allow.pubKey">
            <input type="text" class="form-control" readonly :value="allow.name">
            <button class="btn btn-danger" type="button" @click="denyDevicePermission(allow.pubKey)">
              許可を取り消す
            </button>
          </div>

        </div>
      </div>     
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tweetnacl/1.0.1/nacl-fast.min.js" integrity="sha256-oirnoViW9lYllRfFCj8bHlWrneMp/XIHg+ct2exOvIc=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/tweetnacl-util@0.15.1/nacl-util.min.js" integrity="sha256-l9yVE3YPWsTD48cjI2ABjQo466SAR0oLKj1VzQOlZ1U=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/base-58@0.0.1/Base58.js" integrity="sha256-d34IQcl2k8MvM/V8g3tBbuqy1cUoJ+G+H4dcDFVisnY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/mqtt@4.3.4/dist/mqtt.min.js" integrity="sha256-kwTnrzz0cOUvq4QlNUqWXv0j1Mly0Qh+RaveDfQQEI0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/js/all.min.js" integrity="sha256-hzXGCdRlrCnXm9KE5/CL/nd33nfEdDypa7VShNBBp4U=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.33/dist/vue.global.prod.js" integrity="sha256-AxPKJOU6KAWl99Iu3ojgPOZdd+LwJLQBRDgXAO5bVv0=" crossorigin="anonymous"></script>
    <script src="./public.iot.key.js"></script>
    <script src="./public.iot.ble.js"></script>
    <script src="./ui.ble.js"></script>
  </body>
</html>
